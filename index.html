<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Weather Dashboard</title>
    <link rel="icon" href="images/image.png" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link rel="stylesheet" href="stylesheets/style.css" />
    <link rel="stylesheet" href="stylesheets/stars.css" />
    <link rel="stylesheet" href="stylesheets/sidebar.css" />
    <link rel="stylesheet" href="stylesheets/charts.css" />
    <link rel="stylesheet" href="stylesheets/table.css" />
    <link rel="stylesheet" href="stylesheets/chatbot.css" />
    <link rel="stylesheet" href="stylesheets/widget.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="dark-theme">
    <div class="bg-animation">
        <div id="stars"></div>
        <div id="stars2"></div>
        <div id="stars3"></div>
        <div id="stars4"></div>
    </div>

    <div class="sidebar" id="sidebar">
        <span class="close-btn">&times;</span>
        <ul>
            <li><button id="dashboard">Dashboard</button></li>
            <li><button id="table">Table</button></li>
        </ul>
    </div>
    <header class="header">
        <div class="left-side">
            <div class="logo" id="logo">
                <img class="logo" src="images/image.png" alt="Weather App Logo" />
            </div>
            <h1 class="website-name">SkyForecast</h1>
        </div>
        <div class="center">
            <div class="search-bar">
                <input type="text" id="city-input" placeholder="Search for a city..." />
                <span class="search-icon">
                    <i class="fas fa-search"></i>
                </span>
            </div>
            <input id="submit-btn" class="submit-btn" type="submit" value="Get Weather" />
        </div>

        <div class="right-side">
            <div class="temp-toggle">
                <label class="switch">
                    <input type="checkbox" id="temp-toggle" />
                    <span class="slider round"></span>
                </label>
                <span class="temp-label" id="temp-label">Â°C</span>
            </div>
            <img id="themeToggle" class="theme-toggle" src="images/sun.png" alt="Theme Toggle" />
            <div class="user-profile">
                <img src="images/user.png" alt="User Profile" />
            </div>
        </div>
    </header>
    <div class="content" id="content">
        <div class="weather-widget" id="weather-widget">
            <div class="weather-header">
                <div class="location-info">
                    <h2>
                        Weather for <span id="city-name">City Name</span>,
                        <span id="country-name">Country Name</span>
                    </h2>
                </div>
                <div class="icon-container">
                    <img id="weather-icon" src="" alt="Weather Icon" />
                </div>
            </div>

            <p class="weather-info">
                <i class="fas fa-clock"></i> Last Updated:
                <span id="local-time">--</span>
            </p>
            <hr class="separator" />
            <p class="weather-info">
                <i class="fas fa-thermometer-half"></i> Temperature:
                <span id="temperature">--</span>
            </p>
            <hr class="separator" />
            <p class="weather-info">
                <i class="fas fa-tint"></i> Humidity: <span id="humidity">--</span>
            </p>
            <hr class="separator" />
            <p class="weather-info">
                <i class="fas fa-wind"></i> Wind Speed:
                <span id="wind-speed">--</span>
            </p>
            <hr class="separator" />
            <p class="weather-info">
                <i class="fas fa-cloud"></i> Description:
                <span id="description">--</span>
            </p>
        </div>

        <div id="map"></div>
        <div class="charts-container" id="charts">
            <div class="chart" id="temp-bar-chart">
                <canvas id="barChart"></canvas>
            </div>
            <div class="chart" id="weather-doughnut-chart">
                <canvas id="doughnutChart"></canvas>
            </div>
            <div class="chart" id="temp-line-chart">
                <canvas id="lineChart"></canvas>
            </div>
        </div>

        <main class="main" id="main">
            <section class="weather-info">
                <h2 class="head">5-Day Weather Forecast for City</h2>
                <div class="filter-container">
                    <label for="filter-sort-dropdown">Filter/Sort: </label>
                    <select class="filter-dropdown" id="filter-dropdown">
                        <option value="default">-- Filter/Sort Weather Data --</option>
                        <option value="asc">Show temperatures in ascending order</option>
                        <option value="desc">Show temperatures in descending order</option>
                        <option value="rain">Filter out days without rain</option>
                        <option value="highest">
                            Show the day with the highest temperature
                        </option>
                    </select>
                </div>
                <div class="table-container">
                    <table class="weather-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Weather Icon</th>
                                <th>Temperature (Â°C)</th>
                                <th>Weather Condition</th>
                                <th>Rain Chance (%)</th>
                            </tr>
                        </thead>
                        <tbody id="weather-table-body">
                            <tr>
                                <td></td>
                                <td><img /></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><img /></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><img /></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><img /></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><img /></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="pagination">
                    <button id="prev-btn">Previous</button>
                    <span id="page-info"></span>
                    <button id="next-btn">Next</button>
                </div>
            </section>
            <button id="chatToggle">ðŸ’¬</button>
            <div class="chat-container" id="chatContainer">
                <div class="chat-header">Chatbot</div>
                <div class="chat-messages" id="chatMessages">
                    <div class="message bot-message">Hi there ðŸ‘‹<br>How can I help you today?</div>
                </div>
                <div class="input-area">
                    <input type="text" id="userInput" placeholder="Type a message...">
                    <button id="sendButton">Send</button>
                </div>
            </div>
        </main>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const geminiIcon = document.querySelector(".gemini-icon");
            const chatbox = document.querySelector(".chatbox");
            const closeChat = document.querySelector(".close-chat");

            // Ensure chatbox is hidden when the page loads
            chatbox.style.display = "none"; // Ensure it's hidden by default

            // Event listener to show/hide the chatbox when icon is clicked
            geminiIcon.addEventListener("click", function () {
                console.log("Chat icon clicked!"); // To check the click event in console
                chatbox.style.display =
                    chatbox.style.display === "flex" ? "none" : "flex";
            });

            // Event listener to close the chatbox when close button is clicked
            closeChat.addEventListener("click", function () {
                console.log("Close button clicked!"); // To check the close event in console
                chatbox.style.display = "none";
            });
        });
    </script>
    <script src="scripts/index.js" defer></script>
    <script src="scripts/chatbot.js"></script>
</body>

</html>